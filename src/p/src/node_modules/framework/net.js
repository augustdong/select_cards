var $ = require('jquery');

var ajax = function(opts, cb) {
	var opts = opts || {};
	$.ajax({
		url: opts.url,
		type: opts.type || "POST",
		data: opts.data,
		success: function(data, textStatus, jqXHR) {
			cb && cb(0, data);
		},
		error: function(XMLHttpRequest, textStatus, errorThrown) {
			//textStatusä¸ºnull\timeout"\"error"\"notmodified"\"parsererror"
			cb && cb(1, textStatus);
		}
	});
};

exports.ajax = ajax;